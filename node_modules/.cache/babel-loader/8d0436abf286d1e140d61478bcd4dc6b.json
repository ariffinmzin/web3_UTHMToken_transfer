{"ast":null,"code":"var _jsxFileName = \"/Users/nurariffinmohdzin/Documents/web3_UTHMToken_transfer/src/components/main.component.js\";\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nrequire('dotenv').config();\n\n//get .env params\nconst Account = process.env.REACT_APP_ACCOUNT;\nconst PrivateKey = process.env.REACT_APP_PRIVATE_KEY;\nconst RpcHttpUrl = process.env.REACT_APP_RPC_HTTP_URL;\n//create web3 connection\nconst web3 = new Web3(new Web3.providers.HttpProvider(RpcHttpUrl));\nfunction Main(props) {\n  //set params\n  const [receiverAddress, setReceiverAddress] = useState(\"\");\n  const [transferAmount, setTransferAmount] = useState(\"\");\n  const [tokenAddress, setTokenAddress] = useState(\"\");\n\n  //transfer eth from one account to other\n  async function transfer() {\n    //get nonce\n    const nonce = await web3.eth.getTransactionCount(Account, \"latest\");\n    //convert Eth to wei\n    const value = web3.utils.toWei(transferAmount.toString(), 'Ether');\n\n    //prepare transaction. fields - to, value, gasPrice, gasLimit, nonce\n    const transaction = {\n      'to': receiverAddress,\n      'value': value,\n      'gasLimit': 6721975,\n      //changed after EIP-1559 upgrade\n      'gasPrice': 20000000000,\n      //changed after EIP-1559 upgrade\n      'nonce': nonce\n    };\n\n    //create signed transaction\n    const signTrx = await web3.eth.accounts.signTransaction(transaction, PrivateKey);\n    //send signed transaction\n    web3.eth.sendSignedTransaction(signTrx.rawTransaction, function (error, hash) {\n      if (error) {\n        console.log('Something went wrong', error);\n      } else {\n        console.log('transaction submitted ', hash);\n        window.alert('Transaction submitted. Hash : ' + hash);\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"blue\",\n      fontSize: \"1.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Welcome to DappBlocks!\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"1.2rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Token Address :\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      height: \"1.5vw\",\n      width: \"30vw\"\n    },\n    onChange: event => setReceiverAddress(event.target.value),\n    placeholder: \"0x0000.....\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"1.2rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Send to :\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      height: \"1.5vw\",\n      width: \"30vw\"\n    },\n    onChange: event => setReceiverAddress(event.target.value),\n    placeholder: \"0x0000.....\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"1.2rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Amount :\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      height: \"1.5vw\",\n      width: \"5vw\"\n    },\n    onChange: event => setTransferAmount(event.target.value),\n    placeholder: \"0.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), \" ETH\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: () => transfer(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Send\")));\n}\nexport default Main;","map":{"version":3,"names":["React","useState","Web3","require","config","Account","process","env","REACT_APP_ACCOUNT","PrivateKey","REACT_APP_PRIVATE_KEY","RpcHttpUrl","REACT_APP_RPC_HTTP_URL","web3","providers","HttpProvider","Main","props","receiverAddress","setReceiverAddress","transferAmount","setTransferAmount","tokenAddress","setTokenAddress","transfer","nonce","eth","getTransactionCount","value","utils","toWei","toString","transaction","signTrx","accounts","signTransaction","sendSignedTransaction","rawTransaction","error","hash","console","log","window","alert","color","fontSize","height","width","event","target"],"sources":["/Users/nurariffinmohdzin/Documents/web3_UTHMToken_transfer/src/components/main.component.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Web3 from \"web3\";\nrequire('dotenv').config();\n\n//get .env params\nconst Account       = process.env.REACT_APP_ACCOUNT;\nconst PrivateKey    = process.env.REACT_APP_PRIVATE_KEY;\nconst RpcHttpUrl    = process.env.REACT_APP_RPC_HTTP_URL;\n//create web3 connection\nconst web3          = new Web3(new Web3.providers.HttpProvider(RpcHttpUrl));  \n\nfunction Main(props){\n    //set params\n    const [receiverAddress, setReceiverAddress] = useState(\"\");\n    const [transferAmount, setTransferAmount]   = useState(\"\");\n    const [tokenAddress, setTokenAddress]   = useState(\"\");\n\n    //transfer eth from one account to other\n    async function transfer(){\n        //get nonce\n        const nonce = await web3.eth.getTransactionCount(Account, \"latest\");\n        //convert Eth to wei\n        const value = web3.utils.toWei(transferAmount.toString(), 'Ether');\n\n        //prepare transaction. fields - to, value, gasPrice, gasLimit, nonce\n        const transaction = {\n            'to': receiverAddress,\n            'value': value,\n            'gasLimit': 6721975, //changed after EIP-1559 upgrade\n            'gasPrice': 20000000000, //changed after EIP-1559 upgrade\n            'nonce': nonce\n        }\n\n        //create signed transaction\n        const signTrx = await web3.eth.accounts.signTransaction(transaction, PrivateKey);\n        //send signed transaction\n        web3.eth.sendSignedTransaction(signTrx.rawTransaction, function(error, hash){\n            if(error){\n                console.log('Something went wrong', error);\n            } else{\n                console.log('transaction submitted ', hash);\n                window.alert('Transaction submitted. Hash : '+hash);\n            }\n        })\n    }\n\n    return(\n        <div>\n            <br/>\n            <div style={{color:\"blue\", fontSize:\"1.5rem\"}}>\n                Welcome to DappBlocks!\n            </div>\n            <br/>\n            <div style={{fontSize:\"1.2rem\"}}>\n                Token Address :\n            </div>\n            <div>\n                <input\n                    type=\"text\"\n                    style={{height:\"1.5vw\", width:\"30vw\"}}\n                    onChange={(event) =>\n                        setReceiverAddress(event.target.value)\n                    }\n                    placeholder=\"0x0000.....\"\n                />\n            </div>\n            <br/>\n            <div style={{fontSize:\"1.2rem\"}}>\n                Send to :\n            </div>\n            <div>\n                <input\n                    type=\"text\"\n                    style={{height:\"1.5vw\", width:\"30vw\"}}\n                    onChange={(event) =>\n                        setReceiverAddress(event.target.value)\n                    }\n                    placeholder=\"0x0000.....\"\n                />\n            </div>\n            <br/>\n            <div style={{fontSize:\"1.2rem\"}}>\n                Amount :\n            </div>\n            <div>\n                <input\n                    type=\"text\"\n                    style={{height:\"1.5vw\", width:\"5vw\"}}\n                    onChange={(event) =>\n                        setTransferAmount(event.target.value)\n                    }\n                    placeholder=\"0.0\" \n                /> ETH\n            </div>\n            <br/>\n            <div>\n                <button\n                    type=\"submit\"\n                    onClick={() => transfer()}\n                >Send</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module"}